<?php

use Illuminate\Database\Seeder;

class KolomSeeder extends Seeder
{
    /**
     * Run the database seeds.
     *
     * @return void
     */
    public function run()
    {
        DB::table('kolom')->where('modul_id', 4)->delete();
        DB::table('grup')->where('modul_id', 4)->delete();
        $dataGrup = '[{"id":296,"nama":"Penggajian","kolom_bootstrap":"col-md-6","sembunyikan":"1","modul_id":4},{"id":294,"nama":"Posisi di perusahaan","kolom_bootstrap":"col-md-4","sembunyikan":"0","modul_id":4},{"id":292,"nama":"Pendidikan","kolom_bootstrap":"col-md-4","sembunyikan":"1","modul_id":4},{"id":290,"nama":"Anggota Keluarga","kolom_bootstrap":"col-md-4","sembunyikan":"1","modul_id":4}]';
        $dataGrup = collect(json_decode($dataGrup))->transform(function($item){
            return collect($item)->toArray();
        })->toArray();
        DB::table('grup')->insert($dataGrup);
        $data = '[{"id":2808,"nama":"tunjangan_makan","nama_asli":"Tunjangan Makan","tipe":"double","panjang":null,"unik":"0","rules":"[\"required\",\"numeric\"]","faker":"digit","ikon":"","tabel_kolom":"pegawai,tunjangan_makan","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"0","grup_id":296,"min":null,"max":null,"nullable":null,"jenis_form":"inputnumber","modul_parent":null,"kolom_parent":null},{"id":2807,"nama":"gaji_pokok","nama_asli":"Gaji Pokok","tipe":"double","panjang":null,"unik":"0","rules":"[\"required\",\"numeric\",\"min:1000\"]","faker":"digit","ikon":"","tabel_kolom":"pegawai,gaji_pokok","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"0","grup_id":296,"min":1000,"max":null,"nullable":null,"jenis_form":"inputnumber","modul_parent":null,"kolom_parent":null},{"id":2805,"nama":"divisi","nama_asli":"Divisi","tipe":"bigIntegerForeign","panjang":null,"unik":"0","rules":"[]","faker":"","ikon":"","tabel_kolom":"pegawai,divisi","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"0","grup_id":294,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":2,"kolom_parent":"id"},{"id":2799,"nama":"magister","nama_asli":"Magister","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"","ikon":"fas fa-graduation-cap","tabel_kolom":"pegawai,magister","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":292,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2798,"nama":"sarjana","nama_asli":"Sarjana","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"","ikon":"fas fa-graduation-cap","tabel_kolom":"pegawai,sarjana","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":292,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2797,"nama":"sma_smk","nama_asli":"SMA\/ SMK","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"","ikon":"fas fa-graduation-cap","tabel_kolom":"pegawai,sma_smk","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":292,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2796,"nama":"smp","nama_asli":"SMP","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"","ikon":"fas fa-graduation-cap","tabel_kolom":"pegawai,smp","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":292,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2795,"nama":"sd","nama_asli":"SD","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"","ikon":"fas fa-graduation-cap","tabel_kolom":"pegawai,sd","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":292,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2786,"nama":"anak_ke_5","nama_asli":"Anak Ke 5","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,anak_ke_5","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2785,"nama":"anak_ke_4","nama_asli":"Anak Ke 4","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,anak_ke_4","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2784,"nama":"anak_ke_3","nama_asli":"Anak Ke 3","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,anak_ke_3","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2783,"nama":"anak_ke_2","nama_asli":"Anak Ke 2","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,anak_ke_2","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2782,"nama":"anak_ke_1","nama_asli":"Anak Ke 1","tipe":"string","panjang":null,"unik":"0","rules":"[\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,anak_ke_1","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2781,"nama":"suami_istri","nama_asli":"Suami \/ Istri","tipe":"string","panjang":null,"unik":"0","rules":"[\"string\",\"nullable\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,suami_istri","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":1,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2780,"nama":"ibu","nama_asli":"Ibu","tipe":"string","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,ibu","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2779,"nama":"ayah","nama_asli":"Ayah","tipe":"string","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"name","ikon":"fas fa-user","tabel_kolom":"pegawai,ayah","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":"1","grup_id":290,"min":null,"max":null,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2777,"nama":"alamat","nama_asli":"Alamat","tipe":"alamat","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"address","ikon":"","tabel_kolom":"pegawai,alamat","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2775,"nama":"no_hp","nama_asli":"No HP","tipe":"noHP","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"phoneNumber","ikon":"fas fa-phone","tabel_kolom":"pegawai,no_hp","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2773,"nama":"email","nama_asli":"Email","tipe":"email","panjang":null,"unik":"0","rules":"[\"required\",\"email\",\"string\"]","faker":"email","ikon":"fas fa-envelope","tabel_kolom":"pegawai,email","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2771,"nama":"tanggal_lahir","nama_asli":"Tanggal Lahir","tipe":"date","panjang":null,"unik":"0","rules":"[\"required\",\"string\",\"date_format:Y-m-d\"]","faker":"tanggalSekarang","ikon":"fa fa-calendar","tabel_kolom":"pegawai,tanggal_lahir","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2769,"nama":"kota_lahir","nama_asli":"Kota Lahir","tipe":"string","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"city","ikon":"","tabel_kolom":"pegawai,kota_lahir","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2767,"nama":"jenis_kelamin","nama_asli":"Jenis Kelamin","tipe":"jenisKelamin","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"jenisKelamin","ikon":"","tabel_kolom":"pegawai,jenis_kelamin","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2765,"nama":"nik","nama_asli":"NIK","tipe":"string","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"nik","ikon":"fas fa-id-card-alt","tabel_kolom":"pegawai,nik","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2763,"nama":"nama","nama_asli":"Nama","tipe":"string","panjang":null,"unik":"0","rules":"[\"required\",\"string\"]","faker":"name","ikon":"fa fa-user","tabel_kolom":"pegawai,nama","modul_id":4,"kolom_bootstrap":"col-md-6","sembunyikan":"1","grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null},{"id":2761,"nama":"id","nama_asli":null,"tipe":"bigIncrements","panjang":null,"unik":"0","rules":"[]","faker":"","ikon":"","tabel_kolom":"tabel,kolom","modul_id":4,"kolom_bootstrap":"col-md-12","sembunyikan":null,"grup_id":null,"min":0,"max":0,"nullable":null,"jenis_form":"input","modul_parent":null,"kolom_parent":null}]';
        $data = collect(json_decode($data));
        $data->transform(function($item){
            $item->rules = json_decode($item->rules);
            // dd($item);
            return collect($item)->except('unique')->toArray();
        });
        foreach ($data as $d) {
            \App\Kolom::create($d);
        }
    }
}
